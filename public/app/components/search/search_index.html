<in-wrapper>
    <div ng-controller="searchCtrl">
        <div class="col-lg-12">
            <h1 class="page-header">
                <img src="assets/img/search.png" class="img-title">
                RECHERCHE
            </h1>
        </div>
        <div>
            <input placeholder="Recherche..." type="text" ng-model="filterWord" class="form-control">
        </div>
        <div class="row">
            <div ng-show="loaded < 4" class="top15 text-center"><i class="fa fa-spinner fa-2x fa-pulse fa-fw"></i></div>

            <div ng-show="(expendables | filter:filterWord).length > 0" class="table-responsive">
                <table class="table table-hover table-striped">
                    <h2>Consommables</h2>
                    <thead>
                        <tr>
                            <th>Nom<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Fournisseur<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Caractéristiques<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Stock disponible<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Seuil d'alerte<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Unité<br><img src="assets/img/fleche.png" class="img-th"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="expendable in expendables | filter:filterWord" ng-click="open(expendable, 'expendable')">
                            <td class="col-md-1">{{ expendable.name }}</td>
                            <td class="col-md-1 td-list">{{ expendable.supplier }}</td>
                            <td class="col-md-1 td-list">{{ expendable.description }}</td>
                            <td class="col-md-1 td-list">{{ expendable.remainingQuantity }}</td>
                            <td class="col-md-1 td-list">{{ expendable.minQuantity }}</td>
                            <td class="col-md-1 td-list">{{ expendable.quantityUnit }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-show="(tools | filter:filterWord).length > 0" class="table-responsive">
                <table class="table table-hover table-striped">
                    <h2>Outils</h2>
                    <thead>
                        <tr>
                            <th>Nom<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Toxicité<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Fournisseur<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Salle<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Etagère<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Stock disponible<br><img src="assets/img/fleche.png" class="img-th"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="tool in tools" ng-click="open(tool, 'tool')">
                            <td class="col-md-1">{{ tool.name }}</td>
                            <td class="col-md-1 text-center">{{ tool.toxicity || '-' }}</td>
                            <td class="col-md-1 text-center">{{ tool.supplier || '-' }}</td>
                            <td class="col-md-1 text-center">{{ tool.roomName || '-' }}</td>
                            <td class="col-md-1 text-center">{{ tool.wardrobeName || '-' }}</td>
                            <td class="col-md-1 text-center">{{ tool.remainingQuantity || '-' }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-show="(products | filter:filterWord).length > 0" class="table-responsive">
                <table class="table table-hover table-striped">
                    <h2>Produit</h2>
                    <thead>
                        <tr>
                            <th>Nom du produit<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Fournisseur<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Stock disponible<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Seuil d'alerte<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Unité<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Prix (€)<br><img src="assets/img/fleche.png" class="img-th"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="product in products | filter:filterWord" ng-click="open(products, 'product')">
                            <td class="col-md-1">{{ product.name }}</td>
                            <td class="col-md-1 td-list">{{ product.supplier }}</td>
                            <td class="col-md-1 td-list">{{ product.remainingQuantity }}</td>
                            <td class="col-md-1 td-list">{{ product.minQuantity }}</td>
                            <td class="col-md-1 td-list">{{ product.quantityUnit }}</td>
                            <td class="col-md-1 td-list">{{ product.price }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-show="(engines | filter:filterWord).length > 0" class="table-responsive">
                <table class="table table-hover table-striped">
                    <h2>Machines</h2>
                    <thead>
                        <tr>
                            <th>Nom<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Type<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Salle<br><img src="assets/img/fleche.png" class="img-th"></th>
                            <th>Statut<br><img src="assets/img/fleche.png" class="img-th"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="engine in engines | filter:filterWord" ng-click="open(engine, 'engine')">
                            <td class="col-md-1">{{ engine.name }}</td>
                            <td class="col-md-1 td-list">{{ engine.type }}</td>
                            <td class="col-md-1 td-list">{{ engine.roomName }}</td>
                            <td class="col-md-1 td-list">
                                <div class="col-md-1 td-list">{{ engine.status }} </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="row left15" ng-show="((expendables | filter:filterWord).length == 0) && ((tools | filter:filterWord).length == 0) && ((products | filter:filterWord).length == 0) && ((engines | filter:filterWord).length == 0)">
                <h1>Aucun résultat ne correspond à cette recherche</h1>
            </div>
        </div>
    </div>
</in-wrapper>
